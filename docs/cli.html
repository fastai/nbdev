---

title: Command line functions


keywords: fastai
sidebar: home_sidebar

summary: "Console commands added by the nbdev library"
description: "Console commands added by the nbdev library"
nb_path: "nbs/06_cli.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/06_cli.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>nbdev</code> comes with the following commands. To use any of them, you must be in one of the subfolders of your project: they will search for the <code>settings.ini</code> recursively in the parent directory but need to access it to be able to work. Their names all begin with nbdev so you can easily get a list with tab completion.</p>
<ul>
<li><a href="/cli.html#nbdev_build_docs"><code>nbdev_build_docs</code></a> builds the documentation from the notebooks</li>
<li><a href="/cli.html#nbdev_build_lib"><code>nbdev_build_lib</code></a> builds the library from the notebooks</li>
<li><a href="/cli.html#nbdev_bump_version"><code>nbdev_bump_version</code></a> increments version in <code>settings.py</code> by one</li>
<li><a href="/clean.html#nbdev_clean_nbs"><code>nbdev_clean_nbs</code></a> removes all superfluous metadata form the notebooks, to avoid merge conflicts</li>
<li><a href="/cli.html#nbdev_detach"><code>nbdev_detach</code></a> exports cell attachments to <code>dest</code> and updates references</li>
<li><a href="/cli.html#nbdev_diff_nbs"><code>nbdev_diff_nbs</code></a> gives you the diff between the notebooks and the exported library</li>
<li><a href="/cli.html#nbdev_fix_merge"><code>nbdev_fix_merge</code></a> will fix merge conflicts in a notebook file</li>
<li><a href="/cli.html#nbdev_install_git_hooks"><code>nbdev_install_git_hooks</code></a> installs the git hooks that use the last two command automatically on each commit/merge</li>
<li><a href="/cli.html#nbdev_nb2md"><code>nbdev_nb2md</code></a> converts a notebook to a markdown file</li>
<li><a href="/cli.html#nbdev_new"><code>nbdev_new</code></a> creates a new nbdev project</li>
<li><a href="/cli.html#nbdev_read_nbs"><code>nbdev_read_nbs</code></a> reads all notebooks to make sure none are broken</li>
<li><a href="/cli.html#nbdev_test_nbs"><code>nbdev_test_nbs</code></a> runs tests in notebooks</li>
<li><a href="/cli.html#nbdev_trust_nbs"><code>nbdev_trust_nbs</code></a> trusts all notebooks (so that the HTML content is shown)</li>
<li><a href="/cli.html#nbdev_update_lib"><code>nbdev_update_lib</code></a> propagates any change in the library back to the notebooks</li>
<li><a href="/cli.html#nbdev_upgrade"><code>nbdev_upgrade</code></a> updates an existing nbdev project to use the latest features</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Creating-release-notes">Creating release notes<a class="anchor-link" href="#Creating-release-notes"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_changelog" class="doc_header"><code>nbdev_changelog</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L21" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_changelog</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>)</p>
</blockquote>
<p>Export notebooks matching <code>fname</code> to python modules</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Navigating-from-notebooks-to-script-and-back">Navigating from notebooks to script and back<a class="anchor-link" href="#Navigating-from-notebooks-to-script-and-back"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_build_lib" class="doc_header"><code>nbdev_build_lib</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L27" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_build_lib</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>)</p>
</blockquote>
<p>Export notebooks matching <code>fname</code> to python modules</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By default (<code>fname</code> left to <code>None</code>), the whole library is built from the notebooks in the <code>lib_folder</code> set in your <code>settings.ini</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_update_lib" class="doc_header"><code>nbdev_update_lib</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L34" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_update_lib</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>)</p>
</blockquote>
<p>Propagates any change in the modules matching <code>fname</code> to the notebooks that created them</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By default (<code>fname</code> left to <code>None</code>), the whole library is treated. Note that this tool is only designed for small changes such as typo or small bug fixes. You can't add new cells in notebook from the library.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_diff_nbs" class="doc_header"><code>nbdev_diff_nbs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L40" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_diff_nbs</code>()</p>
</blockquote>
<p>Prints the diff between an export of the library in notebooks and the actual modules</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Extracting-tests">Extracting tests<a class="anchor-link" href="#Extracting-tests"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_test_nbs" class="doc_header"><code>nbdev_test_nbs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L58" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_test_nbs</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>, <strong><code>flags</code></strong>:"Space separated list of flags"=<em><code>None</code></em>, <strong><code>n_workers</code></strong>:"Number of workers to use"=<em><code>None</code></em>, <strong><code>verbose</code></strong>:"Print errors along the way"=<em><code>True</code></em>, <strong><code>timing</code></strong>:"Timing each notebook to see the ones are slow"=<em><code>False</code></em>, <strong><code>pause</code></strong>:"Pause time (in secs) between notebooks to avoid race conditions"=<em><code>0.2</code></em>)</p>
</blockquote>
<p>Test in parallel the notebooks matching <code>fname</code>, passing along <code>flags</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By default (<code>fname</code> left to <code>None</code>), the whole library is tested from the notebooks in the <code>lib_folder</code> set in your <code>settings.ini</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Building-documentation">Building documentation<a class="anchor-link" href="#Building-documentation"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following functions complete the ones in <a href="/export2html.html"><code>export2html</code></a> to fully build the documentation of your library.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_readme" class="doc_header"><code>make_readme</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L88" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_readme</code>()</p>
</blockquote>
<p>Convert the index notebook to README.md</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_build_docs" class="doc_header"><code>nbdev_build_docs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L104" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_build_docs</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>, <strong><code>force_all</code></strong>:"Rebuild even notebooks that haven't changed"=<em><code>False</code></em>, <strong><code>mk_readme</code></strong>:"Also convert the index notebook to README"=<em><code>True</code></em>, <strong><code>n_workers</code></strong>:"Number of workers to use"=<em><code>None</code></em>, <strong><code>pause</code></strong>:"Pause time (in secs) between notebooks to avoid race conditions"=<em><code>0.2</code></em>)</p>
</blockquote>
<p>Build the documentation by converting notebooks mathing <code>fname</code> to html</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By default (<code>fname</code> left to <code>None</code>), the whole documentation is build from the notebooks in the <code>lib_folder</code> set in your <code>settings.ini</code>, only converting the ones that have been modified since the their corresponding html was last touched unless you pass <code>force_all=True</code>. The index is also converted to make the README file, unless you pass along <code>mk_readme=False</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_nb2md" class="doc_header"><code>nbdev_nb2md</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L116" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_nb2md</code>(<strong><code>fname</code></strong>:"A notebook file name to convert", <strong><code>dest</code></strong>:"The destination folder"=<em><code>'.'</code></em>, <strong><code>img_path</code></strong>:"Folder to export images to"=<em><code>''</code></em>, <strong><code>jekyll</code></strong>:"To use jekyll metadata for your markdown file or not"=<em><code>False</code></em>)</p>
</blockquote>
<p>Convert the notebook in <code>fname</code> to a markdown file</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_detach" class="doc_header"><code>nbdev_detach</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L126" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_detach</code>(<strong><code>path_nb</code></strong>:"Path to notebook", <strong><code>dest</code></strong>:"Destination folder"=<em><code>''</code></em>, <strong><code>use_img</code></strong>:"Convert markdown images to img tags"=<em><code>False</code></em>)</p>
</blockquote>
<p>Export cell attachments to <code>dest</code> and update references</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Other-utils">Other utils<a class="anchor-link" href="#Other-utils"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_read_nbs" class="doc_header"><code>nbdev_read_nbs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L134" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_read_nbs</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>)</p>
</blockquote>
<p>Check all notebooks matching <code>fname</code> can be opened</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By default (<code>fname</code> left to <code>None</code>), the all the notebooks in <code>lib_folder</code> are checked.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_trust_nbs" class="doc_header"><code>nbdev_trust_nbs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L145" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_trust_nbs</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>, <strong><code>force_all</code></strong>:"Trust even notebooks that haven't changed"=<em><code>False</code></em>)</p>
</blockquote>
<p>Trust noteboks matching <code>fname</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>By default (<code>fname</code> left to <code>None</code>), the all the notebooks in <code>lib_folder</code> are trusted. To speed things up, only the ones touched since the last time this command was run are trusted unless you pass along <code>force_all=True</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_fix_merge" class="doc_header"><code>nbdev_fix_merge</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L161" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_fix_merge</code>(<strong><code>fname</code></strong>:"A notebook filename to fix", <strong><code>fast</code></strong>:"Fast fix: automatically fix the merge conflicts in outputs or metadata"=<em><code>True</code></em>, <strong><code>trust_us</code></strong>:"Use local outputs/metadata when fast mergning"=<em><code>True</code></em>)</p>
</blockquote>
<p>Fix merge conflicts in notebook <code>fname</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>When you have merge conflicts after a <code>git pull</code>, the notebook file will be broken and won't open in jupyter notebook anymore. This command fixes this by changing the notebook to a proper json file again and add markdown cells to signal the conflict, you just have to open that notebook again and look for <code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> to see those conflicts and manually fix them. The old broken file is copied with a <code>.ipynb.bak</code> extension, so is still accessible in case the merge wasn't sucessful.</p>
<p>Moreover, if <code>fast=True</code>, conflicts in outputs and metadata will automatically be fixed by using the local version if <code>trust_us=True</code>, the remote one if <code>trust_us=False</code>. With this option, it's very likely you won't have anything to do, unless there is a real conflict.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="bump_version" class="doc_header"><code>bump_version</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L169" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>bump_version</code>(<strong><code>version</code></strong>, <strong><code>part</code></strong>=<em><code>2</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_eq</span><span class="p">(</span><span class="n">bump_version</span><span class="p">(</span><span class="s1">&#39;0.1.1&#39;</span>   <span class="p">),</span> <span class="s1">&#39;0.1.2&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">bump_version</span><span class="p">(</span><span class="s1">&#39;0.1.1&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;0.2.0&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_bump_version" class="doc_header"><code>nbdev_bump_version</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L176" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_bump_version</code>(<strong><code>part</code></strong>:"Part of version to bump"=<em><code>2</code></em>)</p>
</blockquote>
<p>Increment version in <code>settings.py</code> by one</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_conda_package" class="doc_header"><code>nbdev_conda_package</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L187" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_conda_package</code>(<strong><code>path</code></strong>:"Path where package will be created"=<em><code>'conda'</code></em>, <strong><code>do_build</code></strong>:"Run <code>conda build</code> step"=<em><code>True</code></em>, <strong><code>build_args</code></strong>:"Additional args (as str) to send to <code>conda build</code>"=<em><code>''</code></em>, <strong><code>do_upload</code></strong>:"Run <code>anaconda upload</code> step"=<em><code>True</code></em>, <strong><code>upload_user</code></strong>:"Optional user to upload package to"=<em><code>None</code></em>)</p>
</blockquote>
<p>Create a <code>meta.yaml</code> file ready to be built into a package, and optionally build and upload it</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To build and upload a conda package, cd to the root of your repo, and then:</p>

<pre><code>nbdev_conda_package

</code></pre>
<p>Or to do things more manually:</p>

<pre><code>nbdev_conda_package --do_build false
cd conda
conda build {name}
anaconda upload $CONDA_PREFIX/conda-bld/noarch/{name}-{ver}-*.tar.bz2</code></pre>
<p>Add <code>--debug</code> to the <code>conda build command</code> to debug any problems that occur. Note that the build step takes a few minutes. Add <code>-u {org_name}</code> to the <code>anaconda upload</code> command if you wish to upload to an organization, or pass <code>upload_user</code> to <a href="/cli.html#nbdev_conda_package"><code>nbdev_conda_package</code></a>.</p>
<p><strong>NB</strong>: you need to first of all upload your package to PyPi, before creating the conda package. Use <code>make pypi</code> to do this manually with nbdev, or <code>make release</code> to make both pip and conda packages, and update your version number.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Git-hooks">Git hooks<a class="anchor-link" href="#Git-hooks"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_install_git_hooks" class="doc_header"><code>nbdev_install_git_hooks</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L221" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_install_git_hooks</code>()</p>
</blockquote>
<p>Install git hooks to clean/trust notebooks automatically</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This command installs git hooks to make sure notebooks are cleaned before you commit them to GitHub and automatically trusted at each merge. To be more specific, this creates:</p>
<ul>
<li>an executable '.git/hooks/post-merge' file that contains the command <a href="/cli.html#nbdev_trust_nbs"><code>nbdev_trust_nbs</code></a></li>
<li>a <code>.gitconfig</code> file that uses <code>nbev_clean_nbs</code> has a filter/diff on all notebook files inside <code>nbs_folder</code> and a <code>.gitattributes</code> file generated in this folder (copy this file in other folders where you might have notebooks you want cleaned as well)</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Starting-a-new-project">Starting a new project<a class="anchor-link" href="#Starting-a-new-project"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_new" class="doc_header"><code>nbdev_new</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L278" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_new</code>(<strong><code>name</code></strong>:"A directory to create the project in", <strong><code>template_git_repo</code></strong>:"url to template repo"=<em><code>'https://github.com/fastai/nbdev_template.git'</code></em>)</p>
</blockquote>
<p>Create a new nbdev project with a given name.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/cli.html#nbdev_new"><code>nbdev_new</code></a> is a command line tool that creates a new nbdev project based on the <a href="https://github.com/fastai/nbdev_template">nbdev_template repo</a>. You can use a custom template by passing in <code>template_git_repo</code>. It'll initialize a new git repository and commit the new project.</p>
<p>After you run <a href="/cli.html#nbdev_new"><code>nbdev_new</code></a>, please edit <code>settings.ini</code> and run <a href="/cli.html#nbdev_build_lib"><code>nbdev_build_lib</code></a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Migrate-from-comment-flags-to-magic-flags">Migrate from comment flags to magic flags<a class="anchor-link" href="#Migrate-from-comment-flags-to-magic-flags"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Migrating-notebooks">Migrating notebooks<a class="anchor-link" href="#Migrating-notebooks"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Run <a href="/cli.html#nbdev_upgrade"><code>nbdev_upgrade</code></a> from the command line to update code cells in notebooks that use comment flags like</p>
<div class="highlight"><pre><span></span><span class="c1">#export special.module</span>
</pre></div>
<p>to use magic flags</p>
<div class="highlight"><pre><span></span><span class="o">%</span><span class="n">nbdev_export</span> <span class="n">special</span><span class="o">.</span><span class="n">module</span>
</pre></div>
<p>To make the magic flags work, <a href="/cli.html#nbdev_upgrade"><code>nbdev_upgrade</code></a> might need to add a new code cell to the top of the notebook</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Hiding-the-from-nbdev-import-*-cell">Hiding the <code>from nbdev import *</code> cell<a class="anchor-link" href="#Hiding-the-from-nbdev-import-*-cell"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>nbdev does not treat <code>from nbdev import *</code> as special, but this cell can be hidden from the docs by combining it with <code>%nbdev_default_export</code>. e.g.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev</span> <span class="kn">import</span> <span class="o">*</span>
<span class="o">%</span><span class="n">nbdev_default_export</span> <span class="n">my_module</span>
</pre></div>
<p>this works because nbdev will hide any code cell containing the <code>%nbdev_default_export</code> flag.</p>
<p>If you don't need <code>%nbdev_default_export</code> in your notebook you can: use the hide input <a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions">jupyter extension</a> or edit cell metadata to include <code>"hide_input": true</code></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Add-css-for-&quot;collapse&quot;-components">Add css for "collapse" components<a class="anchor-link" href="#Add-css-for-&quot;collapse&quot;-components"> </a></h2><p>If you want to use collapsable cells in your HTML docs, you need to style the details tag in customstyles.css. <code>_add_collapse_css</code> will do this for you, if the details tag is not already styled.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Upgrading-existing-nbdev-projects-to-use-new-features">Upgrading existing nbdev projects to use new features<a class="anchor-link" href="#Upgrading-existing-nbdev-projects-to-use-new-features"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_upgrade" class="doc_header"><code>nbdev_upgrade</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/cli.py#L423" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_upgrade</code>(<strong><code>migrate2magic</code></strong>:"Migrate all notebooks in <code>nbs_path</code> to use magic flags"=<em><code>True</code></em>, <strong><code>add_collapse_css</code></strong>:"Add css for "#collapse" components"=<em><code>True</code></em>)</p>
</blockquote>
<p>Update an existing nbdev project to use the latest features</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><code>migrate2magic</code> reads <em>all</em> notebooks in <code>nbs_path</code> and migrates them in-place</li>
<li><code>add_collapse_css</code> updates <code>customstyles.css</code> so that "collapse" components can be used in HTML pages</li>
</ul>

</div>
</div>
</div>
</div>
 

