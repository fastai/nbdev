---
toc: true
title: Convert to html


keywords: fastai
sidebar: home_sidebar

summary: "The functions that transform the dev notebooks in the documentation of the library"
description: "The functions that transform the dev notebooks in the documentation of the library"
nb_path: "nbs/03_export2html.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_export2html.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The most important function defined in this module is <a href="/export2html.html#notebook2html"><code>notebook2html</code></a>, so you may want to jump to it before scrolling though the rest, which explain the details behind the scenes of the conversion from notebooks to the html documentation. The main things to remember are:</p>
<ul>
<li>put <code>#hide</code> at the top of any cell you want to completely hide in the docs</li>
<li>use the hide input <a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions">jupyter extension</a> to hide the input of some cells (by default all <a href="/showdoc.html#show_doc"><code>show_doc</code></a> cells have that marker added)</li>
<li>you can define some jekyll metadata in the markdown cell with the title, see <a href="/export2html.html#get_metadata"><code>get_metadata</code></a></li>
<li>use backticks for terms you want automatic links to be found, but use <code>&lt;code&gt;</code> and <code>&lt;/code&gt;</code> when you have homonyms and don't want those links</li>
<li>you can define the default toc level of classes with <code>#default_cls_lvl</code> followed by a number (default is 2)</li>
<li>you can add jekyll warnings, important or note banners with appropriate block quotes (see <a href="/export2html.html#add_jekyll_notes"><code>add_jekyll_notes</code></a>)</li>
<li>put any images you want to use in the images folder of your notebook folder, they will be automatically copied over to the docs folder</li>
<li>put <code>#hide_input</code> at the top of a cell if you don't want code to be shown in the docs<ul>
<li>cells containing <code>#export</code> or <a href="/showdoc.html#show_doc"><code>show_doc</code></a> have their code hidden automatically</li>
</ul>
</li>
<li>put <code>#hide_output</code> at the top of a cell if you don't want output to be shown in the docs</li>
<li>use <code>#collapse_input</code> or <code>#collapse_output</code> to include code or output in the docs under a collapsable element</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Preprocessing-notebook">Preprocessing notebook<a class="anchor-link" href="#Preprocessing-notebook"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Cell-processors">Cell processors<a class="anchor-link" href="#Cell-processors"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="HTMLParseAttrs" class="doc_header"><code>class</code> <code>HTMLParseAttrs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L27" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>HTMLParseAttrs</code>(<strong><code>convert_charrefs</code></strong>=<em><code>True</code></em>) :: <code>HTMLParser</code></p>
</blockquote>
<p>Simple HTML parser which stores any attributes in <code>attrs</code> dict</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">h</span> <span class="o">=</span> <span class="n">HTMLParseAttrs</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">h</span><span class="p">(</span><span class="s1">&#39;&lt;img src=&quot;src&quot; alt=&quot;alt&quot; width=&quot;700&quot; caption=&quot;cap&quot; /&gt;&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">],</span> <span class="s1">&#39;700&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;src&#39;</span>  <span class="p">],</span> <span class="s1">&#39;src&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;600&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">show</span><span class="p">(),</span> <span class="s1">&#39;&lt;img src=&quot;src&quot; alt=&quot;alt&quot; width=&quot;600&quot; caption=&quot;cap&quot; /&gt;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following functions are applied on individual cells as a preprocessing step before the conversion to html.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_widget_state" class="doc_header"><code>remove_widget_state</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L45" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_widget_state</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Remove widgets in the output of <code>cells</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Those outputs usually can't be rendered properly in html.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="upd_metadata" class="doc_header"><code>upd_metadata</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L69" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>upd_metadata</code>(<strong><code>cell</code></strong>, <strong><code>key</code></strong>, <strong><code>value</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Sets <code>key</code> to <code>value</code> on the <code>metadata</code> of <code>cell</code> without replacing metadata</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hide_cells" class="doc_header"><code>hide_cells</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L74" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hide_cells</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Hide inputs of <code>cell</code> that need to be hidden</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This concerns all the cells with <code>#export</code> or <code>#hide_input</code> flags and all the cells containing a <a href="/showdoc.html#show_doc"><code>show_doc</code></a> for a function or class.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;show_doc(read_nb)&#39;</span><span class="p">,</span> <span class="s1">&#39;# export</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">,</span> <span class="s1">&#39;# hide_input</span><span class="se">\n</span><span class="s1">2+2&#39;</span><span class="p">,</span>
              <span class="s1">&#39;line1</span><span class="se">\n</span><span class="s1"> show_doc (read_nb) </span><span class="se">\n</span><span class="s1">line3&#39;</span><span class="p">,</span> <span class="s1">&#39;# export with.mod</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">]:</span>
    <span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="n">source</span><span class="p">}</span>
    <span class="n">cell1</span> <span class="o">=</span> <span class="n">hide_cells</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
    <span class="k">assert</span> <span class="s1">&#39;metadata&#39;</span> <span class="ow">in</span> <span class="n">cell1</span>
    <span class="k">assert</span> <span class="s1">&#39;hide_input&#39;</span> <span class="ow">in</span> <span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;hide_input&#39;</span><span class="p">]</span>

<span class="n">flag</span> <span class="o">=</span> <span class="s1">&#39;# exports&#39;</span>
<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flag</span><span class="si">}</span><span class="se">\n</span><span class="s1">from local.core2 import *&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">hide_cells</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="n">cell</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This concerns all the cells with <code>#hide_output</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;# hide-output</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">,</span> <span class="s1">&#39;# hide_output</span><span class="se">\n</span><span class="s1">2+2&#39;</span><span class="p">]:</span>
    <span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="n">source</span><span class="p">}</span>
    <span class="n">cell1</span> <span class="o">=</span> <span class="n">hide_cells</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
    <span class="k">assert</span> <span class="s1">&#39;metadata&#39;</span> <span class="ow">in</span> <span class="n">cell1</span>
    <span class="k">assert</span> <span class="s1">&#39;hide_output&#39;</span> <span class="ow">in</span> <span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">]</span>
    <span class="k">assert</span> <span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;metadata&#39;</span><span class="p">][</span><span class="s1">&#39;hide_output&#39;</span><span class="p">]</span>

<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;# hide-outputs</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">hide_cells</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="n">cell</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="clean_exports" class="doc_header"><code>clean_exports</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L81" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>clean_exports</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Remove all flags from code <code>cell</code>s</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The rest of the cell is displayed without any modification.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">flag</span> <span class="o">=</span> <span class="s1">&#39;# exports&#39;</span>
<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flag</span><span class="si">}</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">clean_exports</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;from local.core import *&#39;</span><span class="p">})</span>
<span class="n">cell</span><span class="p">[</span><span class="s1">&#39;cell_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;markdown&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">clean_exports</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="n">cell</span><span class="p">)</span>
<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flag</span><span class="si">}</span><span class="s1"> core</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">clean_exports</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;from local.core import *&#39;</span><span class="p">})</span>
    
<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;# comment </span><span class="se">\n</span><span class="s1"># exports</span><span class="se">\n</span><span class="s1">print(&quot;something&quot;)&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">clean_exports</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;# exports</span><span class="se">\n</span><span class="s1">print(&quot;something&quot;)&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="treat_backticks" class="doc_header"><code>treat_backticks</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L87" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>treat_backticks</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Add links to backticks words in <code>cell</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;This is a `DocsTestClass`&#39;</span><span class="p">}</span>
<span class="c1"># test_eq(treat_backticks(cell), {&#39;cell_type&#39;: &#39;markdown&#39;,</span>
<span class="c1">#     &#39;source&#39;: &#39;This is a [`DocsTestClass`](/export.html#DocsTestClass)&#39;})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_jekyll_notes" class="doc_header"><code>add_jekyll_notes</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L118" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_jekyll_notes</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Convert block quotes to jekyll notes in <code>cell</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Supported styles are <code>Warning</code>, <code>Note</code> <code>Tip</code> and <code>Important</code>:</p>
<p>Typing <code>&gt; Warning: There will be no second warning!</code> will render in the docs:
{% include warning.html content='There will be no second warning!' %}
Typing <code>&gt; Important: Pay attention! It's important.</code> will render in the docs:
{% include important.html content='Pay attention! It&#8217;s important.' %}
Typing <code>&gt; Tip: This is my tip.</code> will render in the docs:
{% include tip.html content='This is my tip.' %}
Typing <code>&gt; Note: Take note of this.</code> will render in the docs:
{% include note.html content='Take note of this.' %}
Typing <code>&gt; Note: A doc link to [`add_jekyll_notes`](/export2html.html#add_jekyll_notes) should also work fine.</code> will render in the docs:
{% include note.html content='A doc link to <a href="/export2html.html#add_jekyll_notes"><code>add_jekyll_notes</code></a> should also work fine.' %}</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span><span class="o">=</span><span class="n">_re_image</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;![Alt](images/logo.png)&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">(),</span> <span class="p">(</span><span class="s1">&#39;![Alt](&#39;</span><span class="p">,</span> <span class="s1">&#39;images/logo.png&#39;</span><span class="p">,</span> <span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
<span class="c1"># using ) or whitespace to close the group means we don&#39;t need a special case for captions</span>
<span class="n">m</span><span class="o">=</span><span class="n">_re_image</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;![Alt](images/logo.png &quot;caption (something)&quot;)&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">groups</span><span class="p">(),</span> <span class="p">(</span><span class="s1">&#39;![Alt](&#39;</span><span class="p">,</span> <span class="s1">&#39;images/logo.png&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="copy_images" class="doc_header"><code>copy_images</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L159" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>copy_images</code>(<strong><code>cell</code></strong>, <strong><code>fname</code></strong>, <strong><code>dest</code></strong>, <strong><code>jekyll</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Copy images referenced in <code>cell</code> from <code>fname</code> parent folder to <code>dest</code> folder</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is to ensure that all images defined in <code>nbs_folder/images</code> and used in notebooks are copied over to <code>doc_folder/images</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dest_img</span> <span class="o">=</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">path</span><span class="p">(</span><span class="s2">&quot;doc_path&quot;</span><span class="p">)</span><span class="o">/</span><span class="s1">&#39;images&#39;</span><span class="o">/</span><span class="s1">&#39;logo.png&#39;</span>
<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](images/logo.png)&#39;</span><span class="p">}</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">copy_images</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;01_export.ipynb&#39;</span><span class="p">),</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">path</span><span class="p">(</span><span class="s2">&quot;doc_path&quot;</span><span class="p">))</span>
    <span class="n">test_eq</span><span class="p">(</span><span class="n">cell</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">],</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](/images/logo.png)&#39;</span><span class="p">)</span>
    <span class="c1">#Image has been copied</span>
    <span class="k">assert</span> <span class="n">dest_img</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
    <span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](images/logo.png &quot;caption (something)&quot;)&#39;</span><span class="p">}</span>
    <span class="n">copy_images</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;01_export.ipynb&#39;</span><span class="p">),</span> <span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">path</span><span class="p">(</span><span class="s2">&quot;doc_path&quot;</span><span class="p">))</span>
    <span class="n">test_eq</span><span class="p">(</span><span class="n">cell</span><span class="p">[</span><span class="s2">&quot;source&quot;</span><span class="p">],</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](/images/logo.png &quot;caption (something)&quot;)&#39;</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span> <span class="n">dest_img</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="adapt_img_path" class="doc_header"><code>adapt_img_path</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L188" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>adapt_img_path</code>(<strong><code>cell</code></strong>, <strong><code>fname</code></strong>, <strong><code>dest</code></strong>, <strong><code>jekyll</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Adapt path of images referenced in <code>cell</code> from <code>fname</code> to work in folder <code>dest</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This function is slightly different as it ensures that a notebook convert to a file that will be placed in <code>dest</code> will have the images location updated. It is used for the <code>README.md</code> file (generated automatically from the index) since the images are copied inside the github repo, but in general, you should make sure your images are going to be accessible from the location your file ends up being.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](images/logo.png)&#39;</span><span class="p">))}</span>
<span class="n">cell1</span> <span class="o">=</span> <span class="n">adapt_img_path</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;01_export.ipynb&#39;</span><span class="p">),</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](nbs/images/logo.png)&#39;</span><span class="p">)))</span>

<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](http://site.logo.png)&#39;</span><span class="p">}</span>
<span class="n">cell1</span> <span class="o">=</span> <span class="n">adapt_img_path</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;01_export.ipynb&#39;</span><span class="p">),</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](http://site.logo.png)&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Escape Latex in liquid</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="escape_latex" class="doc_header"><code>escape_latex</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L210" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>escape_latex</code>(<strong><code>cell</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;lala</span><span class="se">\n</span><span class="s1">$$equation$$</span><span class="se">\n</span><span class="s1">lala&#39;</span><span class="p">}</span>
<span class="n">cell</span> <span class="o">=</span> <span class="n">escape_latex</span><span class="p">(</span><span class="n">cell</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cell</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="s1">&#39;lala</span><span class="se">\n</span><span class="s1">{</span><span class="si">% r</span><span class="s1">aw %}</span><span class="se">\n</span><span class="s1">$$equation$$</span><span class="se">\n</span><span class="s1">{</span><span class="si">% e</span><span class="s1">ndraw %}</span><span class="se">\n</span><span class="s1">lala&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Collapsable-Code-Cells">Collapsable Code Cells<a class="anchor-link" href="#Collapsable-Code-Cells"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="collapse_cells" class="doc_header"><code>collapse_cells</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L221" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>collapse_cells</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Add a collapse button to inputs or outputs of <code>cell</code> in either the open or closed position</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Placing <code>#collapse_input open</code> in a code cell will include your code under a collapsable element that is <strong>open</strong> by default.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;This code cell is not collapsed by default but you can collapse it to hide it from view!&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Note that the output always shows with `</span><span class="si">%c</span><span class="s2">ollapse_input`.&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>This code cell is not collapsed by default but you can collapse it to hide it from view!
Note that the output always shows with `%collapse_input`.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Placing <code>#collapse_input</code> in a code cell will include your code in a collapsable element that is <strong>closed</strong> by default.  For example:</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The code cell that produced this output is collapsed by default but you can expand it!&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The code cell that produced this output is collapsed by default but you can expand it!
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Placing <code>#collapse_output</code> in a code cell will hide the output under a collapsable element that is <strong>closed</strong> by default.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The input of this cell is visible as usual.</span><span class="se">\n</span><span class="s1">However, the OUTPUT of this cell is collapsed by default but you can expand it!&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary data-open="Hide Output" data-close="Show Output"></summary>
        <summary></summary>
        
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The input of this cell is visible as usual.
However, the OUTPUT of this cell is collapsed by default but you can expand it!
</pre>
</div>
</div>

</div>
</div>

    </details>
</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Preprocessing-the-list-of-cells">Preprocessing the list of cells<a class="anchor-link" href="#Preprocessing-the-list-of-cells"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following functions are applied to the entire list of cells of the notebook as a preprocessing step before the conversion to html.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_hidden" class="doc_header"><code>remove_hidden</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L234" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_hidden</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Remove in <code>cells</code> the ones with a flag <code>#hide</code>, <code>#default_exp</code>, <code>#default_cls_lvl</code> or <code>#exporti</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cells</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="s1">&#39;hide&#39;</span><span class="p">:</span> <span class="n">hide</span><span class="p">}</span> <span class="k">for</span> <span class="n">hide</span><span class="p">,</span> <span class="n">source</span> <span class="ow">in</span> <span class="p">[</span>
    <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;# export</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">),</span> 
    <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;# exporti mod file&#39;</span><span class="p">),</span> <span class="c1"># Note: this used to get removed but we&#39;re more strict now</span>
    <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;# hide</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;# hide_input</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;#exports</span><span class="se">\n</span><span class="s1">super code&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;#default_exp notebook.export&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;show_doc(read_nb)&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;#hide (last test of to_concat)&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;# exporti</span><span class="se">\n</span><span class="s1">1 + 1&#39;</span><span class="p">)]]</span> <span class="o">+</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="n">source</span><span class="p">,</span> <span class="s1">&#39;hide&#39;</span><span class="p">:</span> <span class="n">hide</span><span class="p">}</span> <span class="k">for</span> <span class="n">hide</span><span class="p">,</span> <span class="n">source</span> <span class="ow">in</span> <span class="p">[</span>
    <span class="p">(</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;#hide_input</span><span class="se">\n</span><span class="s1">nice&#39;</span><span class="p">),</span> 
    <span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;#hide</span><span class="se">\n\n</span><span class="s1">to hide&#39;</span><span class="p">)]]</span>

<span class="k">for</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">([</span><span class="n">cell</span> <span class="k">for</span> <span class="n">cell</span> <span class="ow">in</span> <span class="n">cells</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">cell</span><span class="p">[</span><span class="s1">&#39;hide&#39;</span><span class="p">]],</span> <span class="n">remove_hidden</span><span class="p">(</span><span class="n">cells</span><span class="p">)):</span>
    <span class="n">test_eq</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_default_level" class="doc_header"><code>find_default_level</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L240" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>find_default_level</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Find in <code>cells</code> the default class level.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tst_nb</span> <span class="o">=</span> <span class="n">read_nb</span><span class="p">(</span><span class="s1">&#39;00_export.ipynb&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">find_default_level</span><span class="p">(</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]),</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nb_code_cell" class="doc_header"><code>nb_code_cell</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L249" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nb_code_cell</code>(<strong><code>source</code></strong>)</p>
</blockquote>
<p>A code cell (as a dict) containing <code>source</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_show_docs" class="doc_header"><code>add_show_docs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L257" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_show_docs</code>(<strong><code>cells</code></strong>, <strong><code>cls_lvl</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Add <a href="/showdoc.html#show_doc"><code>show_doc</code></a> for each exported function or class</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This only adds cells with a <a href="/showdoc.html#show_doc"><code>show_doc</code></a> for non-documented functions, so if you add yourself a <a href="/showdoc.html#show_doc"><code>show_doc</code></a> cell (because you want to change one of the default argument), there won't be any duplicates.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">cell</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]):</span>
    <span class="k">if</span> <span class="n">cell</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#export</span><span class="se">\n</span><span class="s1">def read_nb&#39;</span><span class="p">):</span> <span class="k">break</span>
<span class="n">tst_cells</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">added_cells</span> <span class="o">=</span> <span class="n">add_show_docs</span><span class="p">(</span><span class="n">tst_cells</span><span class="p">,</span> <span class="n">cls_lvl</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">added_cells</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">added_cells</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">added_cells</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][</span><span class="n">i</span><span class="p">])</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">added_cells</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">_show_doc_cell</span><span class="p">(</span><span class="s1">&#39;read_nb&#39;</span><span class="p">,</span> <span class="n">cls_lvl</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">added_cells</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="s1">&#39;show_doc(read_nb, default_cls_level=3)&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">flag</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;#export&#39;</span><span class="p">,</span> <span class="s1">&#39;#exports&#39;</span><span class="p">]:</span>
    <span class="k">for</span> <span class="n">show_doc_source</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="p">(</span><span class="s1">&#39;show_doc(my_func)&#39;</span><span class="p">,</span> <span class="s1">&#39;show_doc(my_func, title_level=3)&#39;</span><span class="p">)]:</span>
        <span class="c1">#Check show_doc isn&#39;t added if it was already there.</span>
        <span class="n">tst_cells1</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flag</span><span class="si">}</span><span class="se">\n</span><span class="s1">def my_func(x):</span><span class="se">\n</span><span class="s1">    return x&#39;</span><span class="p">},</span>
                      <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="n">show_doc_source</span><span class="p">[</span><span class="mi">0</span><span class="p">]}]</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="n">add_show_docs</span><span class="p">(</span><span class="n">tst_cells1</span><span class="p">),</span> <span class="n">tst_cells1</span><span class="p">)</span>
        <span class="c1">#Check show_doc is added</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">add_show_docs</span><span class="p">(</span><span class="n">tst_cells1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])),</span> <span class="nb">len</span><span class="p">(</span><span class="n">tst_cells1</span><span class="p">))</span>
        <span class="n">tst_cells1</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">flag</span><span class="si">}</span><span class="s1"> with.mod</span><span class="se">\n</span><span class="s1">def my_func(x):</span><span class="se">\n</span><span class="s1">    return x&#39;</span><span class="p">},</span>
                      <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span><span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;Some text&#39;</span><span class="p">},</span>
                      <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span><span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="n">show_doc_source</span><span class="p">[</span><span class="mi">1</span><span class="p">]}]</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="n">add_show_docs</span><span class="p">(</span><span class="n">tst_cells1</span><span class="p">),</span> <span class="n">tst_cells1</span><span class="p">)</span>
        <span class="c1">#Check show_doc is added when using mod export</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">add_show_docs</span><span class="p">(</span><span class="n">tst_cells1</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">])),</span> <span class="nb">len</span><span class="p">(</span><span class="n">tst_cells1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_fake_headers" class="doc_header"><code>remove_fake_headers</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L279" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_fake_headers</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Remove in <code>cells</code> the fake header</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can fake headers in your notebook to navigate them more easily with collapsible headers, just make them finish with a dash and they will be removed. One typical use case is to have a header of level 2 with the name of a class, since the <a href="/showdoc.html#show_doc"><code>show_doc</code></a> cell of that class will create the same anchor, you need to have the one you created manually disappear to avoid any duplicate.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cells</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span>
          <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="p">{},</span>
          <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;### Fake-&#39;</span><span class="p">}]</span> <span class="o">+</span> <span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="n">cells1</span> <span class="o">=</span> <span class="n">remove_fake_headers</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cells1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cells1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cells</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_empty" class="doc_header"><code>remove_empty</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L284" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_empty</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Remove in <code>cells</code> the empty cells</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Grabbing-metadata">Grabbing metadata<a class="anchor-link" href="#Grabbing-metadata"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_metadata" class="doc_header"><code>get_metadata</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L322" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_metadata</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Find the cell with title and summary in <code>cells</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the markdown cell with the title, you can add the summary as a block quote (just put an empty block quote for an empty summary) and a list with any additional metadata you would like to add, for instance:</p>

<pre><code># Title
&gt; Awesome summary
- toc:False</code></pre>
<p>The toc: False metadata will prevent the table of contents from showing on the page.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tst_nb</span> <span class="o">=</span> <span class="n">read_nb</span><span class="p">(</span><span class="s1">&#39;00_export.ipynb&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">get_metadata</span><span class="p">(</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]),</span> <span class="p">{</span>
    <span class="s1">&#39;keywords&#39;</span><span class="p">:</span> <span class="s1">&#39;fastai&#39;</span><span class="p">,</span>
    <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="s1">&#39;The functions that transform notebooks in a library&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Export to modules&#39;</span><span class="p">})</span>

<span class="c1">#The cell with the metada is popped out, so if we do it a second time we get the default.</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">get_metadata</span><span class="p">(</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]),</span> <span class="p">{</span><span class="s1">&#39;keywords&#39;</span><span class="p">:</span> <span class="s1">&#39;fastai&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span>   <span class="p">:</span> <span class="s1">&#39;Title&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Executing-show_doc-cells">Executing show_doc cells<a class="anchor-link" href="#Executing-show_doc-cells"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="ExecuteShowDocPreprocessor" class="doc_header"><code>class</code> <code>ExecuteShowDocPreprocessor</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L371" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>ExecuteShowDocPreprocessor</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>ExecutePreprocessor</code></p>
</blockquote>
<p>An <code>ExecutePreprocessor</code> that only executes <a href="/showdoc.html#show_doc"><code>show_doc</code></a> and <code>import</code> cells</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Cells containing:</p>
<ul>
<li>a zero indented call to <a href="/export.html#notebook2script"><code>notebook2script</code></a></li>
</ul>
<p>are not run while building docs. This avoids failures caused by importing empty or partially built modules.</p>
<p>Cells containing:</p>
<ul>
<li><a href="/showdoc.html#show_doc"><code>show_doc</code></a> (which could be indented) or</li>
<li>a "library import" (zero indent import from current library) e.g. <code>from LIB_NAME.core import *</code></li>
</ul>
<p>are executed and must run without error. If running these cells raises an exception, the build will stop.</p>
<p>Cells containing zero indented imports. e.g.</p>
<ul>
<li><code>from module import *</code> or</li>
<li><code>import module</code></li>
</ul>
<p>are executed but errors will not stop the build.</p>
<p>If you need to <a href="/showdoc.html#show_doc"><code>show_doc</code></a> something, please make sure it's imported via a cell that does not depend on previous cells being run. The easiest way to do this is to use a cell that contains nothing but imports.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="execute_nb" class="doc_header"><code>execute_nb</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L398" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>execute_nb</code>(<strong><code>nb</code></strong>, <strong><code>mod</code></strong>=<em><code>None</code></em>, <strong><code>metadata</code></strong>=<em><code>None</code></em>, <strong><code>show_doc_only</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Execute <code>nb</code> (or only the <a href="/showdoc.html#show_doc"><code>show_doc</code></a> cells) with <code>metadata</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Converting-bibtex-citations">Converting bibtex citations<a class="anchor-link" href="#Converting-bibtex-citations"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="cite2link" class="doc_header"><code>cite2link</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L434" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>cite2link</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Creates links from \cite{} to Reference section generated by jupyter_latex_envs</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>jupyter_latex_envs is a jupyter extension <a href="https://github.com/jfbercher/jupyter_latex_envs">https://github.com/jfbercher/jupyter_latex_envs</a>.</p>
<p>You can find relevant section <a href="https://rawgit.com/jfbercher/jupyter_latex_envs/master/src/latex_envs/static/doc/latex_env_doc.html#Bibliography">here</a>
Note, that nbdev now only supports <code>[&lt;a class="latex_cit" id="call-" href="#cit-"&gt;&lt;/a&gt;]</code> conversion and not the rest, e.g., <code>\figure{}</code> and so on.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It's important to execute all <a href="/showdoc.html#show_doc"><code>show_doc</code></a> cells before exporting the notebook to html because some of them have just been added automatically or others could have outdated links.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fake_nb</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">tst_nb</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">&#39;cells&#39;</span><span class="p">}</span>
<span class="n">fake_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()]</span> <span class="o">+</span> <span class="n">added_cells</span>
<span class="n">fake_nb</span> <span class="o">=</span> <span class="n">execute_nb</span><span class="p">(</span><span class="n">fake_nb</span><span class="p">,</span> <span class="n">mod</span><span class="o">=</span><span class="s1">&#39;export&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">fake_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">2</span><span class="p">][</span><span class="s1">&#39;outputs&#39;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Filling-templates">Filling templates<a class="anchor-link" href="#Filling-templates"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following functions automatically adds jekyll templates if they are missing.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="write_tmpl" class="doc_header"><code>write_tmpl</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L440" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>write_tmpl</code>(<strong><code>tmpl</code></strong>, <strong><code>nms</code></strong>, <strong><code>cfg</code></strong>, <strong><code>dest</code></strong>)</p>
</blockquote>
<p>Write <code>tmpl</code> to <code>dest</code> (if missing) filling in <code>nms</code> in template using dict <code>cfg</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="write_tmpls" class="doc_header"><code>write_tmpls</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L448" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>write_tmpls</code>()</p>
</blockquote>
<p>Write out _config.yml and _data/topnav.yml using templates</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_build_lib" class="doc_header"><code>nbdev_build_lib</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L457" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_build_lib</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>, <strong><code>bare</code></strong>:"Omit nbdev annotation comments (may break some functionality)."=<em><code>False</code></em>)</p>
</blockquote>
<p>Export notebooks matching <code>fname</code> to python modules</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Conversion">Conversion<a class="anchor-link" href="#Conversion"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="vm">__file__</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">get_config</span><span class="p">()</span><span class="o">.</span><span class="n">path</span><span class="p">(</span><span class="s2">&quot;lib_path&quot;</span><span class="p">)</span><span class="o">/</span><span class="s1">&#39;export2html.py&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_exporter" class="doc_header"><code>nbdev_exporter</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L465" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_exporter</code>(<strong><code>template_file</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_nb" class="doc_header"><code>convert_nb</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L485" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_nb</code>(<strong><code>fname</code></strong>, <strong><code>template_file</code></strong>=<em><code>None</code></em>, <strong><code>exporter</code></strong>=<em><code>None</code></em>, <strong><code>dest</code></strong>=<em><code>None</code></em>, <strong><code>execute</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Convert a notebook <code>fname</code> to html file in <code>dest_path</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="notebook2html" class="doc_header"><code>notebook2html</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L514" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>notebook2html</code>(<strong><code>fname</code></strong>=<em><code>None</code></em>, <strong><code>force_all</code></strong>=<em><code>False</code></em>, <strong><code>n_workers</code></strong>=<em><code>None</code></em>, <strong><code>template_file</code></strong>=<em><code>None</code></em>, <strong><code>exporter</code></strong>=<em><code>None</code></em>, <strong><code>dest</code></strong>=<em><code>None</code></em>, <strong><code>pause</code></strong>=<em><code>0</code></em>, <strong><code>execute</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Convert all notebooks matching <code>fname</code> to html files</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">TemporaryDirectory</span><span class="p">()</span> <span class="k">as</span> <span class="n">d</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/tmp/tmp2adxjlsf
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">notebook2html</span><span class="p">(</span><span class="s1">&#39;01_sync.ipynb&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">n_workers</span><span class="o">=</span><span class="mi">0</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>converting: 01_sync.ipynb
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hide cells starting with <code>#export</code> and only leaves the prose and the tests. If <code>fname</code> is not specified, this will convert all notebooks not beginning with an underscore in the <code>nb_folder</code> defined in <code>setting.ini</code>. Otherwise <code>fname</code> can be a single filename or a glob expression.</p>
<p>By default, only the notebooks that are more recent than their html counterparts are modified, pass <code>force_all=True</code> to change that behavior.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_md" class="doc_header"><code>convert_md</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L538" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_md</code>(<strong><code>fname</code></strong>, <strong><code>dest_path</code></strong>, <strong><code>img_path</code></strong>=<em><code>'docs/images/'</code></em>, <strong><code>jekyll</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Convert a notebook <code>fname</code> to a markdown file in <code>dest_path</code>.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is used to convert the index into the <code>README.md</code>.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;![screenshot](attachment:image.png)&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_re_att_ref</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">(),</span> <span class="p">(</span><span class="s1">&#39;screenshot&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>

<span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;![screenshot](attachment:image.png &quot;Deploying to Binder&quot;)&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">_re_att_ref</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">t</span><span class="p">)</span><span class="o">.</span><span class="n">groups</span><span class="p">(),</span> <span class="p">(</span><span class="s1">&#39;screenshot&#39;</span><span class="p">,</span> <span class="s2">&quot;Deploying to Binder&quot;</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_detach" class="doc_header"><code>nbdev_detach</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L607" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_detach</code>(<strong><code>path_nb</code></strong>:"Path to notebook", <strong><code>dest</code></strong>:"Destination folder"=<em><code>''</code></em>, <strong><code>use_img</code></strong>:"Convert markdown images to img tags"=<em><code>False</code></em>, <strong><code>replace</code></strong>:"Write replacement notebook back to <code>path_bn</code>"=<em><code>True</code></em>)</p>
</blockquote>
<p>Export cell attachments to <code>dest</code> and update references</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_readme" class="doc_header"><code>make_readme</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L619" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_readme</code>()</p>
</blockquote>
<p>Convert the index notebook to README.md</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_build_docs" class="doc_header"><code>nbdev_build_docs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L635" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_build_docs</code>(<strong><code>fname</code></strong>:"A notebook name or glob to convert"=<em><code>None</code></em>, <strong><code>force_all</code></strong>:"Rebuild even notebooks that haven't changed"=<em><code>False</code></em>, <strong><code>mk_readme</code></strong>:"Also convert the index notebook to README"=<em><code>True</code></em>, <strong><code>n_workers</code></strong>:"Number of workers to use"=<em><code>None</code></em>, <strong><code>pause</code></strong>:"Pause time (in secs) between notebooks to avoid race conditions"=<em><code>0.5</code></em>)</p>
</blockquote>
<p>Build the documentation by converting notebooks matching <code>fname</code> to html</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="nbdev_nb2md" class="doc_header"><code>nbdev_nb2md</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L647" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>nbdev_nb2md</code>(<strong><code>fname</code></strong>:"A notebook file name to convert", <strong><code>dest</code></strong>:"The destination folder"=<em><code>'.'</code></em>, <strong><code>img_path</code></strong>:"Folder to export images to"=<em><code>''</code></em>, <strong><code>jekyll</code></strong>:"To use jekyll metadata for your markdown file or not"=<em><code>False</code></em>)</p>
</blockquote>
<p>Convert the notebook in <code>fname</code> to a markdown file</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Sidebar">Sidebar<a class="anchor-link" href="#Sidebar"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="create_default_sidebar" class="doc_header"><code>create_default_sidebar</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L698" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>create_default_sidebar</code>()</p>
</blockquote>
<p>Create the default sidebar for the docs website</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The default sidebar lists all html pages with their respective title, except the index that is named "Overview". To build a custom sidebar, set the flag <code>custom_sidebar</code> in your <code>settings.ini</code> to <code>True</code> then change the <code>sidebar.json</code> file in the <code>doc_folder</code> to your liking. Otherwise, the sidebar is updated at each doc build.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="make_sidebar" class="doc_header"><code>make_sidebar</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L704" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>make_sidebar</code>()</p>
</blockquote>
<p>Making sidebar for the doc website form the content of <code>doc_folder/sidebar.json</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">make_sidebar</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

