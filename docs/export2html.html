---

title: Convert to html
keywords: fastai
sidebar: home_sidebar

summary: "The functions that transform the dev notebooks in the documentation of the library"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/03_export2html.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The most important function defined in this module is <a href="export2html.html#notebook2html"><code>notebook2html</code></a>, so you may want to jump to it before scrolling though the rest, which explain the details behind the scenes of the conversion from notebooks to the html documentation. The main things to remember are:</p>
<ul>
<li>put a <code>#hide</code> flag at the top of any cell you want to completely hide in the docs</li>
<li>use the hide input <a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions">jupyter extension</a> to hide the input of some cells (by default all <a href="showdoc.html#show_doc"><code>show_doc</code></a> cells have that marker added)</li>
<li>you can define some jekyll metadata in the markdown cell with the title, see <a href="export2html.html#get_metadata"><code>get_metadata</code></a></li>
<li>use backsticks for terms you want automatic links to be found, but use <code>&lt;code&gt;</code> and <code>&lt;/code&gt;</code> when you have homonyms and don't want those links</li>
<li>you can define the default toc level of classes with <code># default_cls_lvl</code> flag followed by a number (default is 2)</li>
<li>you can add jekyll warnings, important or note banners with appropriate block quotes (see <a href="export2html.html#add_jekyll_notes"><code>add_jekyll_notes</code></a>)</li>
<li>put any images you want to use in the images folder of your notebook folder, they will be automatically copied over to the docs folder</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Preprocessing-notebook">Preprocessing notebook<a class="anchor-link" href="#Preprocessing-notebook">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Cell-processors">Cell processors<a class="anchor-link" href="#Cell-processors">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="HTMLParseAttrs" class="doc_header"><code>class</code> <code>HTMLParseAttrs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L21" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>HTMLParseAttrs</code>(<strong><code>convert_charrefs</code></strong>=<em><code>True</code></em>) :: <code>HTMLParser</code></p>
</blockquote>
<p>Simple HTML parser which stores any attributes in <code>attrs</code> dict</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">h</span> <span class="o">=</span> <span class="n">HTMLParseAttrs</span><span class="p">()</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">h</span><span class="p">(</span><span class="s1">&#39;&lt;img src=&quot;src&quot; alt=&quot;alt&quot; width=&quot;700&quot; caption=&quot;cap&quot; /&gt;&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">],</span> <span class="s1">&#39;700&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;src&#39;</span>  <span class="p">],</span> <span class="s1">&#39;src&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;600&#39;</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">show</span><span class="p">(),</span> <span class="s1">&#39;&lt;img src=&quot;src&quot; alt=&quot;alt&quot; width=&quot;600&quot; caption=&quot;cap&quot; /&gt;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;max-width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">h</span><span class="o">.</span><span class="n">show</span><span class="p">(),</span> <span class="s1">&#39;&lt;img src=&quot;src&quot; alt=&quot;alt&quot; caption=&quot;cap&quot; max-width=&quot;600&quot; /&gt;&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following functions are applied on individual cells as a preprocessing step before the conversion to html.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_widget_state" class="doc_header"><code>remove_widget_state</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L39" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_widget_state</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Remove widgets in the output of <code>cells</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Those outputs usually can't be rendered properly in html.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="hide_cells" class="doc_header"><code>hide_cells</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L51" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>hide_cells</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Hide inputs of <code>cell</code> that need to be hidden</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This concerns all the cells with a <code># export</code> flag and all the cell containing a <a href="showdoc.html#show_doc"><code>show_doc</code></a> for a function or class.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="clean_exports" class="doc_header"><code>clean_exports</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L61" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>clean_exports</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Remove exports flag from <code>cell</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The rest of the cell is displayed without any modification.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;# exports</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">clean_exports</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;from local.core import *&#39;</span><span class="p">})</span>
<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;# exports core</span><span class="se">\n</span><span class="s1">from local.core import *&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">clean_exports</span><span class="p">(</span><span class="n">cell</span><span class="o">.</span><span class="n">copy</span><span class="p">()),</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;code&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;from local.core import *&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="treat_backticks" class="doc_header"><code>treat_backticks</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L67" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>treat_backticks</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Add links to backticks words in <code>cell</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;This is a `DocsTestClass`&#39;</span><span class="p">}</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">treat_backticks</span><span class="p">(</span><span class="n">cell</span><span class="p">),</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span>
    <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;This is a [`DocsTestClass`](export.html#DocsTestClass)&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_jekyll_notes" class="doc_header"><code>add_jekyll_notes</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L94" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_jekyll_notes</code>(<strong><code>cell</code></strong>)</p>
</blockquote>
<p>Convert block quotes to jekyll notes in <code>cell</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Supported styles are <code>Warning</code>, <code>Note</code> <code>Tip</code> and <code>Important</code>:</p>
<p>Typing <code>&gt; Warning: There will be no second warning!</code> will render in the docs:
{% include warning.html content="There will be no second warning!" %}
Typing <code>&gt; Important: Pay attention! This is important.</code> will render in the docs:
{% include important.html content="Pay attention! This is important." %}
Typing <code>&gt; Tip: This is my tip.</code> will render in the docs:
{% include tip.html content="This is my tip." %}
Typing <code>&gt; Note: Take note of this.</code> will render in the docs:
{% include note.html content="Take note of this." %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="copy_images" class="doc_header"><code>copy_images</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L127" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>copy_images</code>(<strong><code>cell</code></strong>, <strong><code>fname</code></strong>, <strong><code>dest</code></strong>, <strong><code>jekyll</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Copy images referenced in <code>cell</code> from <code>fname</code> parent folder to <code>dest</code> folder</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is to ensure that all images defined in <code>nbs_folder/images</code> and used in notebooks are copied over to <code>doc_folder/images</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dest_img</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span><span class="o">.</span><span class="n">doc_path</span><span class="o">/</span><span class="s1">&#39;images&#39;</span><span class="o">/</span><span class="s1">&#39;logo.png&#39;</span> 
<span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](images/logo.png)&#39;</span><span class="p">,</span> 
             <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">&lt;img alt=&quot;Logo&quot; src=&quot;images/logo.png&quot; style=&quot;width: 100%; height: auto;&quot;/&gt;&#39;</span><span class="p">]:</span>
    <span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="n">text</span><span class="p">}</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">cell1</span> <span class="o">=</span> <span class="n">copy_images</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;01_export.ipynb&#39;</span><span class="p">),</span> <span class="n">Config</span><span class="p">()</span><span class="o">.</span><span class="n">doc_path</span><span class="p">)</span>
        <span class="c1">#Function doesn&#39;t touch cell</span>
        <span class="n">test_eq</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">cell1</span><span class="p">)</span>
        <span class="c1">#Image has been copied</span>
        <span class="k">assert</span> <span class="n">dest_img</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
    <span class="k">finally</span><span class="p">:</span> <span class="n">dest_img</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="adapt_img_path" class="doc_header"><code>adapt_img_path</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L149" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>adapt_img_path</code>(<strong><code>cell</code></strong>, <strong><code>fname</code></strong>, <strong><code>dest</code></strong>, <strong><code>jekyll</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Adapt path of images referenced in <code>cell</code> from <code>fname</code> to work in folder <code>dest</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This function is slightly different as it ensures that a notebook convert to a file that will be placed in <code>dest</code> will have the images location updated. It is used for the <code>README.md</code> file (generated automatically from the index) since the images are copied inside the github repo, but in general, you should make sure your images are going to be accessible from the location your file ends up being.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](images/logo.png)&#39;</span><span class="p">}</span>
<span class="n">cell1</span> <span class="o">=</span> <span class="n">adapt_img_path</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;01_export.ipynb&#39;</span><span class="p">),</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">![Alt](nbs/images/logo.png)&#39;</span><span class="p">)</span>

<span class="n">cell</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">&lt;img alt=&quot;Logo&quot; src=&quot;images/logo.png&quot; width=&quot;600&quot;/&gt;&#39;</span><span class="p">}</span>
<span class="n">cell1</span> <span class="o">=</span> <span class="n">adapt_img_path</span><span class="p">(</span><span class="n">cell</span><span class="p">,</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;01_export.ipynb&#39;</span><span class="p">),</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cell1</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="s1">&#39;Text</span><span class="se">\n</span><span class="s1">{</span><span class="si">% i</span><span class="s1">nclude image.html alt=&quot;Logo&quot; max-width=&quot;600&quot; file=&quot;nbs/images/logo.png&quot; %}&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Preprocessing-the-list-of-cells">Preprocessing the list of cells<a class="anchor-link" href="#Preprocessing-the-list-of-cells">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following functions are applied to the entire list of cells of the notebook as a preprocessing step before the conversion to html.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_hidden" class="doc_header"><code>remove_hidden</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L170" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_hidden</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Remove in <code>cells</code> the ones with a flag <code>#hide</code>, <code>#default_exp</code> or <code>#default_cls_lvl</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="find_default_level" class="doc_header"><code>find_default_level</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L185" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>find_default_level</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Find in <code>cells</code> the default class level.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tst_nb</span> <span class="o">=</span> <span class="n">read_nb</span><span class="p">(</span><span class="s1">&#39;00_export.ipynb&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">find_default_level</span><span class="p">(</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]),</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="add_show_docs" class="doc_header"><code>add_show_docs</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L211" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>add_show_docs</code>(<strong><code>cells</code></strong>, <strong><code>cls_lvl</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Add <a href="showdoc.html#show_doc"><code>show_doc</code></a> for each exported function or class</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This only adds cells with a <a href="showdoc.html#show_doc"><code>show_doc</code></a> for non-documented functions, so if you add yourself a <a href="showdoc.html#show_doc"><code>show_doc</code></a> cell (because you want to change one of the default argument), there won't be any duplicates.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_fake_headers" class="doc_header"><code>remove_fake_headers</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L235" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_fake_headers</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Remove in <code>cells</code> the fake header</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can fake headers in your notebook to navigate them more easily with collapsible headers, just make them finish with a dash and they will be removed. One typicl use case is to have a header of level 2 with the name of a class, since the <a href="showdoc.html#show_doc"><code>show_doc</code></a> cell of that class will create the same anchor, you need to have the one you created manually disappear to avoid any duplicate.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cells</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;cell_type&#39;</span><span class="p">:</span> <span class="s1">&#39;markdown&#39;</span><span class="p">,</span>
          <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="p">{},</span>
          <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;### Fake-&#39;</span><span class="p">}]</span> <span class="o">+</span> <span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
<span class="n">cells1</span> <span class="o">=</span> <span class="n">remove_fake_headers</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cells1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">cells</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">cells1</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cells</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="remove_empty" class="doc_header"><code>remove_empty</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L240" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>remove_empty</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Remove in <code>cells</code> the empty cells</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Grabbing-metada">Grabbing metada<a class="anchor-link" href="#Grabbing-metada">&#182;</a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_metadata" class="doc_header"><code>get_metadata</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L263" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_metadata</code>(<strong><code>cells</code></strong>)</p>
</blockquote>
<p>Find the cell with title and summary in <code>cells</code>.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the markdown cell with the title, you can add the summary as a block quote (just put an empty block quote for an empty summary) and a list with any additional metada you would like to add, for instance:</p>

<pre><code># Title
&gt; Awesome summary
- toc: False</code></pre>
<p>The toc: False metadata will prevent the table of contents from showing on the page.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tst_nb</span> <span class="o">=</span> <span class="n">read_nb</span><span class="p">(</span><span class="s1">&#39;00_export.ipynb&#39;</span><span class="p">)</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">get_metadata</span><span class="p">(</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]),</span> <span class="p">{</span>
    <span class="s1">&#39;keywords&#39;</span><span class="p">:</span> <span class="s1">&#39;fastai&#39;</span><span class="p">,</span>
    <span class="s1">&#39;summary&#39;</span><span class="p">:</span> <span class="s1">&#39;The functions that transform notebooks in a library&#39;</span><span class="p">,</span>
    <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="s1">&#39;Export to modules&#39;</span><span class="p">})</span>

<span class="c1">#The cell with the metada is poped out, so if we do it a second time we get the default.</span>
<span class="n">test_eq</span><span class="p">(</span><span class="n">get_metadata</span><span class="p">(</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]),</span> <span class="p">{</span><span class="s1">&#39;keywords&#39;</span><span class="p">:</span> <span class="s1">&#39;fastai&#39;</span><span class="p">,</span>
            <span class="s1">&#39;summary&#39;</span> <span class="p">:</span> <span class="s1">&#39;summary&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title&#39;</span>   <span class="p">:</span> <span class="s1">&#39;Title&#39;</span><span class="p">})</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Executing-show_doc-cells">Executing show_doc cells<a class="anchor-link" href="#Executing-show_doc-cells">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h3 id="ExecuteShowDocPreprocessor" class="doc_header"><code>class</code> <code>ExecuteShowDocPreprocessor</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L284" class="source_link" style="float:right">[source]</a></h3><blockquote><p><code>ExecuteShowDocPreprocessor</code>(<strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>ExecutePreprocessor</code></p>
</blockquote>
<p>An <code>ExecutePreprocessor</code> that only executes <a href="showdoc.html#show_doc"><code>show_doc</code></a> and <code>import</code> cells</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="execute_nb" class="doc_header"><code>execute_nb</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L303" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>execute_nb</code>(<strong><code>nb</code></strong>, <strong><code>mod</code></strong>=<em><code>None</code></em>, <strong><code>metadata</code></strong>=<em><code>None</code></em>, <strong><code>show_doc_only</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Execute <code>nb</code> (or only the <a href="showdoc.html#show_doc"><code>show_doc</code></a> cells) with <code>metadata</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It's important to execute all <a href="showdoc.html#show_doc"><code>show_doc</code></a> cells before exporting the notebook to html because some of them have just been added automatically or others could have outdated links.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fake_nb</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">tst_nb</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="o">!=</span> <span class="s1">&#39;cells&#39;</span><span class="p">}</span>
<span class="n">fake_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">tst_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()]</span> <span class="o">+</span> <span class="n">added_cells</span>
<span class="n">fake_nb</span> <span class="o">=</span> <span class="n">execute_nb</span><span class="p">(</span><span class="n">fake_nb</span><span class="p">,</span> <span class="n">mod</span><span class="o">=</span><span class="s1">&#39;export&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">fake_nb</span><span class="p">[</span><span class="s1">&#39;cells&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;outputs&#39;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Filling-templates">Filling templates<a class="anchor-link" href="#Filling-templates">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The following functions automatically adds jekyll templates if they are misssing.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="write_tmpl" class="doc_header"><code>write_tmpl</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L314" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>write_tmpl</code>(<strong><code>tmpl</code></strong>, <strong><code>nms</code></strong>, <strong><code>cfg</code></strong>, <strong><code>dest</code></strong>)</p>
</blockquote>
<p>Write <code>tmpl</code> to <code>dest</code> (if missing) filling in <code>nms</code> in template using dict <code>cfg</code></p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="write_tmpls" class="doc_header"><code>write_tmpls</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L322" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>write_tmpls</code>()</p>
</blockquote>
<p>Write out _config.yml and _data/topnav.yml using templates</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Conversion">Conversion<a class="anchor-link" href="#Conversion">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="vm">__file__</span> <span class="o">=</span> <span class="n">Config</span><span class="p">()</span><span class="o">.</span><span class="n">lib_path</span><span class="o">/</span><span class="s1">&#39;export2html.py&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_nb" class="doc_header"><code>convert_nb</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L350" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_nb</code>(<strong><code>fname</code></strong>)</p>
</blockquote>
<p>Convert a notebook <code>fname</code> to html file in <code>dest_path</code>.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_nb</span><span class="p">(</span><span class="s1">&#39;00_export.ipynb&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="notebook2html" class="doc_header"><code>notebook2html</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L374" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>notebook2html</code>(<strong><code>fname</code></strong>=<em><code>None</code></em>, <strong><code>force_all</code></strong>=<em><code>False</code></em>, <strong><code>n_workers</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Convert all notebooks matching <code>fname</code> to html files</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Hide cells starting with <code>#export</code> and only leaves the prose and the tests. If <code>fname</code> is not specified, this will convert all notebooks not beginning with an underscore in the <code>nb_folder</code> defined in <code>setting.ini</code>. Otherwise <code>fname</code> can be a single filename or a glob expression.</p>
<p>By default, only the notebooks that are more recent than their html counterparts are modified, pass <code>force_all=True</code> to change that behavior.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_md" class="doc_header"><code>convert_md</code><a href="https://github.com/fastai/nbdev/tree/master/nbdev/export2html.py#L393" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_md</code>(<strong><code>fname</code></strong>, <strong><code>dest_path</code></strong>, <strong><code>jekyll</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Convert a notebook <code>fname</code> to a markdown file in <code>dest_path</code>.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This is used to convert the index into the <code>README.md</code>.</p>

</div>
</div>
</div>
</div>
 

